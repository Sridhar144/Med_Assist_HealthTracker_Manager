{% extends "base_medpred.html" %}

{% load static %}

{% block title %}
    MedAssist | Your medical assistant
{% endblock %}

{% block content %}

<link rel="stylesheet" href="{% static 'medpred/Header.css' %}">
<link rel="stylesheet" href="{% static 'introduction_css/style.css' %}">
<link rel="stylesheet" href="{% static 'medpred/Footer.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <script>
        $(function () {
    var reportContainer = $("#report-container").get(0);

    // Initialize iframe for embedding report
    powerbi.bootstrap(reportContainer, { type: "report" });

    var models = window["powerbi-client"].models;
    var reportLoadConfig = {
        type: "report",
        tokenType: models.TokenType.Embed,

        // Enable this setting to remove gray shoulders from embedded report
        // settings: {
        //     background: models.BackgroundType.Transparent
        // }
    };

    // Function to resize the iframe
    function resizeIframe() {
            iframe.style.width = "100%"; // Set width to 100%
            iframe.style.height = ""; // Reset height to default
    }

    // Call the resize function when the window is resized or loaded
    window.onresize = resizeIframe;
    window.onload = resizeIframe;

        // type: "GET",
        // url: "/getembedinfo",
        // dataType: "json",
        data={"tokenId": "34c76eab-7b9a-4f4d-aba1-664f502a160c", "accessToken": "H4sIAAAAAAAEAB3TtY7EBgBF0X_Z1pHMFCmFYUxjZrszM7Oj_Hs26W_zjvT-_jGTp5-S_OfPn4nVHd67kDSdQY-HgVI5WyFs4VU6bdH5fJelgBMljGkFOkOou1KCSYFJifLuYysYiA4OTT-r4FvH3UmN7Z3hXTDwCc7dyh65ViplWrDCQaLyUkoSjPrE2dvn0HF4oXG3K3ko5KWeUTXxWtRqWie76jTT-EAG-0p5rZW9bmV9twUMckge9kFXPxsu5QnbV53W4Ix3O_RJTafH8wgKI9hP6VrbkS7fmu14YDjeDb9KTCBEP_ykTRY7jb5S16vpitdBrY4KW6_iVVebilj0nYLT9i-AFTXpR0nC5W06WkiXcyNVJBZKb-KlRFhUwriLqzCYezdpgVEeuWIthHL5U_RgKLVJTB1QmNKlrPf6T22T-RF5126kZ4IulBfimE4ooNuHC06XTagxjBpo-KgPLm6RuY3pRvqNOGi1zGVioY2sFDePZHcOMBN0gCLrk51DhFrZ-sJj16OaNGINL6MfGX3i06E5LAlPxBwDQTfJdjtPefJuR71bJ7saDTD0TepqiRsV_erBpKyMhAoM8Yy0PA-LAj0Docah172CMPvwUGp7YOLYn6-PZxQRIHqIy8N6qJnXpCbldnUvuzjEG9cX4lFkuMbrtmTmupceNgnVFNL0Mvf2eF7Sx3gq4DHY0A2hcs8pQ_3Cw9oh3O77Y2azd1nhK_H9BOHHcTaKf0ua7del1rh7LlHcGG_zeHYVxDtvd349jNbvPdtZdwsmUuhljCeiFUDlU-Lm8CC0CHmtSUNmekh7v2y4TPa4JKjxl_N4yUmHI4L83WvLLyiJcPsqa5O_sBvYk-nGVt5gFRxpo7nDcxoDAoat-Axzw7kcwHsmQGFSsIr9_PHDrc-8T9_i-b1TzUCGBwNCRxdmnHzGtyQ2nS0ASI7hyqwZ3yNhCBV3Ns1xuOWUkDAS_jkTsELwSl5Cjp6eMQ2DIM1qdsSVdQjH5L17NSe-sLqVCEJAAHtFCBEA7_RVJSCOycXLJagPDKeiOU0JZJmh2oG3xVDLc-d3BuElws4cEkYIFB4Xh8cG1Yewj8DqSRWiRVKKGWzBhdndwA3yijhQn8PkWLdkBjm7VpME-P6sqWJsBbCS7Fr40nv3FolS4bIMXm9VPVkbGUaRMb6VEW9JjU_j--R5IwFGQEJgKmk4wL9EtYifFinNrb14H9-6I2yRVpUyMEdgkRRb0rFWCfBltdbmAtoeMZInReuvv_5jfua6WGX_V7kKB0TElMZECM2e5M2EHuNk_q-cphqT_ViL34wpB_erkODq53uAAqTohl8a7KF8t4Mnj2XxDUUQ_GTy0eSGvA0ZkcMCsTPfjwK_G0P46uaB-QI86tVlokvzUCBMI1zQH8voLlAlg84V0-sBV1zJ6JsipqLmQKiOIuSOoK2Rsj03NxtNrOXC9gkH642vwvHS9ExvfOpUIalHrStWtoWywAozGKKsiuStI-fBH8d471HOl9MgMet5q1-pUC9tDeCmNm5aYtcvwTLsFQpmIzUKoTOJ3lzXiWcJu7L5DXJoZ2mFuIw05eyk-jo6vSZ7OCrEIMH4Ea2DOV_LhaNQN5GDFMWEatdlMjRtx-rKmrXROUwJuYBmB0atc1wdAD3U_5j_-RfdzfxEQgYAAA==.eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLUlORElBLUNFTlRSQUwtQS1QUklNQVJZLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0IiwiZXhwIjoxNzE5MjQ2NDE4LCJhbGxvd0FjY2Vzc092ZXJQdWJsaWNJbnRlcm5ldCI6dHJ1ZX0=", "tokenExpiry": "2024-06-24T16:26:58Z", "reportConfig": [{"reportId": "421e6b78-1ae3-45a2-be4a-2479be53d063", "reportName": "proj1", "embedUrl": "https://app.powerbi.com/reportEmbed?reportId=421e6b78-1ae3-45a2-be4a-2479be53d063&groupId=fc46d0ec-ff4d-48e2-bdbf-232747fd3709&w=2&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLUlORElBLUNFTlRSQUwtQS1QUklNQVJZLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0IiwiZW1iZWRGZWF0dXJlcyI6eyJ1c2FnZU1ldHJpY3NWTmV4dCI6dHJ1ZX19", "datasetId": null}]}
        // data={"tokenId": "3edf93f1-ec37-4f06-88cd-f866bdbd7fa3", "accessToken": "H4sIAAAAAAAEAC2Tta7EVgAF_-W1jrRmiJTCzF4zdcY1XDNvlH_Pi5R-NMUcnb9_7OwBU1b-_PmDaLtdfplPUicNN-DvJAvB1NrFjJ4RLWTi-iTHp41W785XE6u4QMYEIoNw4TFHdeoC1_zsKmQeDElEMN0qtcl7BWhIr3Z3kGgtX9mMXyWQb8XMxW5J96ApoYnkze6LswmMuScRV_qhE4-8YrKbvi0OO060SUwIQffQIDyB9yyWhkytx9jflRkLLu7Q4-y5g5eVYYmyKmjjt9AamzE336ww1fkt5tnHhpJeQwjPCzOEXqhx0Sc-bN6JJ094V3vOLSr7xeCiroOLXR3tAn2wc3RhNphnj11MKFG-l94HdSVgtBlfp-edn48zygQ77m4gPM-t6kJ07cgM-RwsQ6UvYdoagh7XOJMVssqwEuT1CEGspX2d2L8eCsqmyKF6BcgVHbydlG3rBEcgxS14VK-UL7n7G7y8OBTYoNDFgL5OSD-1a04RdpMBXSB4GmFOtN0xNjShlXaNhB1Fx7Sv4OUxR1NHCTHN2w3iCFiCm36Y1hq_DuzaHtlKhrXN01CJyVhfovoCs1EPFV1TGY-4A4Zj3-p073TCprVR6QK34gWSO3HGcVhGQ8hVVS5BvbyDwt52-3qYeiW_1MoPpYeLOXjMbYROMambuX7aM28t4ZwQCtISiOr0WdQiFOxgFtiy3xYj7M7q-lLtPVTF_hq-lhBsOoNdNtIPpCGbuSoop11hsodTCqLHx6ZDkQcbxzuRHP70PRZslPoVWwc9XXVFAvQIPKQQFyLgabgSGp9t0n7oqMe3ZQBYr90P7H59Gw_u0HOHSyO_11Mgz9xDNQLm3naxNwE-Sb5t4UHWYaTb8u3MIeeSbLth3aP7uWeSgzxjpliSZd1q-_njh1-feZ_06vm9UzMQfRlfeVySGLJ0VPVxe7R6G4kEZzzWYIJPXogDL2fkMCm-Tmw4o1zkCK4QDOyOmNjN2Qocoo1c7ljtPA-plrhxHlz41aGC175gdxV2TBM5Wx9TgApjgWbZDkB_rExnqKb9bgvLGPyi3zKr9dS2jgYqzukn1TcfUTC5UsOVTCZ3KHfggzj5jCJUSt4dkc9-bgnpz9wLy0Y7HpCxqcPPfq3LUqldnuGUag8P-LRf4w6dDsYZpfGKAm6d1qpMSkKYTyjlxQkrM0q_zOXlSVCcknmHTsM4DPXHvnm2l4pd4CiLPaHX-w6L1BVLBiyaR2H7h4o3SSBNwbu37iQTheE34F8Z-9df_2V-5qZa1fC3cjbjJ-y0btOuWY2p6CXXyf-U137GbD_W6hfT66Al60QXQw5-A_xMvB1Ybdil9lXnOeMayLfIIqVvMqU9xhxQsEynscLtnE1APd-8lrPqVe1oD607RVjWfKvInZwgqXdP9nzq7FWL7N7UfHg-e_i90SjkYshriDM8WZJSYIjksOAREZziOitCBr8_YzBRMDUA24zeTjQdmJ2O8WQSuozYiS7MB848flHqrdRq8DvjUkOVuD_mpp8PaYwRDtDMJ8HLZ1i-jpfopWsl9AaKEBhTtYEom1MvHCU5jHdDr1LAvaYoD3Nbgx8bSNqRl9Px0uni9qpOyQHuEqtmjTecVjDLwbsT-xaziAJCvyiUkQHJNZVW4_XYa9jh9ATsOL-Z__kXATKQjEIGAAA=.eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLUlORElBLUNFTlRSQUwtQS1QUklNQVJZLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0IiwiZXhwIjoxNzE1ODYyOTI0LCJhbGxvd0FjY2Vzc092ZXJQdWJsaWNJbnRlcm5ldCI6dHJ1ZX0=", "tokenExpiry": "2024-05-16T12:35:24Z", "reportConfig": [{"reportId": "421e6b78-1ae3-45a2-be4a-2479be53d063", "reportName": "proj1", "embedUrl": "https://app.powerbi.com/reportEmbed?reportId=421e6b78-1ae3-45a2-be4a-2479be53d063&groupId=fc46d0ec-ff4d-48e2-bdbf-232747fd3709&w=2&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLUlORElBLUNFTlRSQUwtQS1QUklNQVJZLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0IiwiZW1iZWRGZWF0dXJlcyI6eyJ1c2FnZU1ldHJpY3NWTmV4dCI6dHJ1ZX19", "datasetId": null}]}
            embedData = $.parseJSON(JSON.stringify(data));
            reportLoadConfig.accessToken = embedData.accessToken;


            // You can embed different reports as per your need
            reportLoadConfig.embedUrl = embedData.reportConfig[0].embedUrl;

            // Use the token expiry to regenerate Embed token for seamless end user experience
            // Refer https://aka.ms/RefreshEmbedToken
            tokenExpiry = embedData.tokenExpiry;

            // Embed Power BI report when Access token and Embed URL are available
            var report = powerbi.embed(reportContainer, reportLoadConfig);
            console.log(report)
            // Triggers when a report schema is successfully loaded
            report.on("loaded", function () {
                console.log("Report load successful")
            });

            // Triggers when a report is successfully embedded in UI
            report.on("rendered", function () {
                console.log("Report render successful")
            });

            // Clear any other error handler event
            report.off("error");

            // Below patch of code is for handling errors that occur during embedding
            report.on("error", function (event) {
                var errorMsg = event.detail;

                // Use errorMsg variable to log error in any destination of choice
                console.error(errorMsg);
                return;
            });
        });

    </script>
<!-- https://app.powerbi.com/reportEmbed?reportId=<your_report_id>&groupId=<your_group_id>&embedToken=<your_embed_toke -->
    <!-- Navbar -->
    {% if user.is_authenticated %}
        {% include 'Header_medpred.html' %}
    {% else %}
        {% include 'header_authenticate.html' %}
    {% endif %}
    <!-- <iframe id="myIframe" title="proj1" src="https://app.powerbi.com/reportEmbed?reportId=421e6b78-1ae3-45a2-be4a-2479be53d063&autoAuth=true&embeddedDemo=true" frameborder="0" allowFullScreen="true"></iframe>  -->
    <!-- <iframe id="myIframe" title="proj1" src="https://app.powerbi.com/reportEmbed?reportId=421e6b78-1ae3-45a2-be4a-2479be53d063&groupId=fc46d0ec-ff4d-48e2-bdbf-232747fd3709&embedToken=H4sIAAAAAAAEAB2Tt66EVgBE_-W1WCItyZILYMmw5NgBl5xZsuV_97P7KUbnzPz9Y6V3P6Xg58-fu2ImaEuKuBCtoSxWizSiF-azY3bmtLo27VpzzujF3QGArrjfXB7srsT3eycjdcexGZu2Hu_XPrQuhRbAAbu0BKKDoPt37qoRJWUwTHGaOSSDE30aoTQ8N6SoCNLfBZFCuO1lKELMGNZCfWASt9QgEGloXL9O1zC8DutFvIpjtzCH9e3oxUlb5MNPQJ6d8PQZEkD47Gf94Uvj5eTXgRYH0g9XsLsM7wsu_xafpLSqccUm5LnnBlW3XV9NVJna4jFASuMB8sU9_9HhNwpKCHcMu9jRiw7IiCow2IGC51VrmAMiyXtT9OfeBAhDJdXx06thT7wTnMEY9oKK2s_X4aoAdEQnFizfnsNR6Kooyr5clmV9PF7Tj9-sro64SgO1nORp2Cx2o5zeVmAxF-95QS1Mzhzm1HuIewsLBr4xvKXJ8uW1aoJlyizgt3EorRZHCpUTZH7QJg2ql1rS12lwXZGlPvu-0ABp4PohFMo9F3pfi0t-mPkzNHKoKMm-b48lbGh0zGEedDkgDG2Ef8UfbXUlSvxNPmiCgS21H8kE5XDmr4yoXo1vY5xF2OeLcOjOlTq0p7YmWvGgAknp2z77AdD17gZYIsx5iBgeLuntwqj1Sg_Ij9VhuThYjyjzKfl-ZCKknkwxw-w8Pg5JfLRBZEKTZ3p_EWw2-ujwB1p2tZ9urZR3GVl1-z7STl5g_qGpQXkIJE11-rtn9Bv6xjYvUd5XVgaYDpC801SMZwc5cpim0j2l3OeYpZjOt7M9141IMt-9zrSkUZunZ6jBCtKkLo5xZYRgBKn4LE_ulrT44qEy-Kbuhhfuu5urJ5TSRKj9m3itwfBSfv744dd73iatuH_vpNApNUgufDVNiXT-ErPey3CQaOEiihVbx8c24IeGMeBIckeufaFhxqCrJsaQMJrzzE84qE4LN622jEqij99VC-VokurJiMBqwoHQGazFfKzCG1bVggVE6CyE2e3cD_isJPPusnjNjjcO79mXr8m533OGDDQo-dV0-irm9hlOWpKBb9Kio05I0iZmdOa-Q6FXSjMv4tyQnbMZByuKMVhPDCEMf4HkxrOSuoQRVQ-6W0Kpxvetr37YkqvVHunY-gs8MHSRxqnEDMKIZHfLEIEJ015TEyPzELNAbrx8iat6y4p0iXVLbcqEbLVGIEqajGYTSfHs2-flrKDaziq8FyORMfavv_7DfM91sSrBL2VZ8Y1tqpVgbAmLtITFvhrM_j_lNtWYbr-L_41Jz5bZfHWe44jZ3dfJ2rylI0NdPxkJo1LmyQHB29F7XTw-YJAbnqQ-l8dZN09fF0s2D2ktw2eUlWMZNBnAdZ3RCNyoW9eUt0UDWzw3229f3tvR8PYKLJ7xKTI5em6ARn7DY8gSyMTZp1RF30mXG8g1SiLLlbcuLAMY6Ae_UwX3rsQKE9GmcO0z3NQXX01zFZNQsH--cIrWzYpsZarV9taJSS8HSTGDcxOhkM7TgDxantiTMgHM1hHieQtDAuxEuI69opvnXYzKmRAIKL4Se33aDXm4C-GZzdRUT7mGggygVIanLp3lIDNXlfOhjocqKiRZpoLA1enoClQbPQ6gvInnP8z__AsrKmTWQgYAAA==.eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLUlORElBLUNFTlRSQUwtQS1QUklNQVJZLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0IiwiZXhwIjoxNzE1NzY0Njg0LCJhbGxvd0FjY2Vzc092ZXJQdWJsaWNJbnRlcm5ldCI6dHJ1ZX0=" frameborder="0" allowFullScreen="true"></iframe>  -->
    <section id="report-container" class="embed-container px-10 mx-10 my-5" style="width:100%;height: 30rem;">
    </section>
    
        <!-- Used to display report embed error messages -->
        <section class="error-container m-5">
        </section>
    <!-- <iframe title="proj1" width="1140" height="541.25" src="https://app.powerbi.com/reportEmbed?uid=xc7p5" frameborder="0" allowFullScreen="true"></iframe>  -->
   {% include 'Footer_medpred.html' %}
   <script src="https://cdnjs.cloudflare.com/ajax/libs/powerbi-client/2.15.1/powerbi.min.js" integrity="sha512-OWIl8Xrlo8yQjWN5LcMz5SIgNnzcJqeelChqPMIeQGnEFJ4m1fWWn668AEXBrKlsuVbvDebTUJGLRCtRCCiFkg==" crossorigin="anonymous"></script>

</body>

{% endblock content %}